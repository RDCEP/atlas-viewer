{% extends 'base.html' %}

{% block metadata_list %}
{% if metadata %}
<div id=metadata_list>
  <h3>Available datasets</h3>
  <ul>
{% for m in metadata %}
  <li><h4><a href=/map/{{ m.dataset }}>{{ m.dataset }}</a></h4>
  <dl>{% for k, v in m.items() %}{% if k != 'dataset' %}
	<dt>{{ k }}</dt><dd>{{ v }}</dd>
  {% endif %}{% endfor %}</dl></li>
{% endfor %}
</ul></div>
{% endif %}
{% endblock %}

{% block smoothing_slider %}
{% if datatype=='raster' %}

<div class="nav_dropdown" id="appearance">
    <h4>Appearance</h4>
    <ul>
        <li id="drop_special" class="drop_main">Bins<input id="input_buckets" type="number" name="buckets" ></li>

        <div id="sequential" class="theme_img">
            <li id="drop_main">
                <img src="{{ url_for('static', filename='images/SequentialColorTheme.png') }}" alt="Sequential Color Theme">
            </li>
            <li id="drop_label">Sequential</li>
        </div>

        <div id="diverging" class="theme_img">
            <li id="drop_main">
                <img src="{{ url_for('static', filename='images/DivergingColorTheme.png') }}" alt="Color Theme" >
            </li>
            <li id="drop_label">Diverging</li>
        </div>

        <li id="drop_last">
            <input id=smooth_select type=range min=0 max=10 step=1 value=0>
            <div id="drop_main">Smoothing</div>
        </li>

    </ul>
</div>


<div class="nav_dropdown">
    <h4>Regions</h4>
    <ul>
        <li id="drop_special"><a>GADM 0</a></li>
        <li id="drop_last"><a>GADM 1</a></li>
        <li id="drop_last"> <a>GADM 2</a></li>
    </ul>
</div>

{% endif %}
{% endblock %}

{% block agg_button %}
{% if datatype == 'raster' %}
  <div class="nav_dropdown">
	<h4>Aggregate</h4>
	{# TODO: Get available aggregation regions from API #}
	<ul>
	  <li id="drop_special"><a href=/agg/{{ dataset }}/ne_110m_admin_0_countries>NE110</a></li>
	  <li id="drop_last"><a href=/agg/{{ dataset }}/ne_50m_admin_0_countries>NE50</a></li>
	</ul>
  </div>

  <label id="pixel_pointer">
    <i id="icon" class="fa fa-mouse-pointer fa-lg" aria-hidden="true" ></i>
  </label>

  <label id="legend_settings">
    <i id="icon" class="fa fa-eye fa-lg" aria-hidden="true" ></i>
  </label>
{% endif %}
{% endblock %}

{% block jsoptions %}
{{ super() }}
Options.lat = {{ lat }};
Options.lon = {{ lon }};
Options.scale = 1.5;
Options.var = '{{ var }}';
Options.crop = '{{ crop }}';
Options.datatype = '{{ datatype }}';
Options.dataset = '{{ dataset }}';
Options.regions = '{{ regions }}';
Options.datatype = Options.datatype == 'null' ? null : Options.datatype;
{% endblock %}
{% block bodyjs %}
  {% assets 'js_app' %}<script src="{{ ASSET_URL }}"></script>{% endassets %}
{#<script src="{{ url_for('static', filename='js/app/atlas.globals.v0.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/app/atlas.map.v0.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/app/atlas.ui.v0.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/app/atlas.panzoom.v0.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/app/atlas.data.v0.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/main.js') }}?3" charset=utf-8 ></script>#}
{#<script src="{{ url_for('static', filename='js/vendor/ace-builds/src-min-noconflict/ace.js') }}" charset=utf-8></script>#}
{% endblock %}